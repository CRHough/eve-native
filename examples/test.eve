commit
  [#snippet id: 1 code: "#foo"]
  [#snippet id: 2 code: "#bar"]
  [#snippet id: 3 code: "#baz"]
end

search
  [#snippet id code]
bind
  [#html/element tagname: "div" #block-container id children:
    [#ui/text sort: 1 text: "Block {{id}}"]
    [#ui/code-block sort: 2 id value: code]
    [#ui/button #clear-block id sort: 4 text: "Clear"]
    [#ui/button #delete-block id sort: 5 text: "Delete"]
  ]
end

search
  c = [#block-container id]
  [#ui/code-block id value]
bind
  c.children += [#ui/text sort: 3 text: value]
end

search
  [#html/event/click element: [#clear-block id]]
  block = [#ui/code-block id value]
commit
  block.value := ""
end


search
  [#html/event/click element: [#delete-block id]]
  snippet = [#snippet id]
commit
  snippet := none
end


  