    search
        foo = [#foo value]
        total = gather/sum[value, for:foo]
    bind
        [#total total]
    end

    commit
        [#foo value: 1]
        [#foo value: 2]
    end

    search
        [#total total: 3]
        foo = [#foo value: 2]
    commit
        foo := none
    end

    search
        [#total total: 1]
        not([#total total: 3])
    bind
        [#success]
    end

